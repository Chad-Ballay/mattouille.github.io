<!DOCTYPE html>
<html lang="en">





<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="  At 9:37AM PST, an authorized S3 team member using an established playbook executed a command which was intended to remove a small number of servers for one...">
  <meta name="keywords" content="Python, Linux, DevOps, SRE, Site Reliability Engineering, and Automation">
  <meta name="author" content="User error caused a massive S3 blackout | MattOuille.com">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#f5f5f5">

  <!-- Twitter Tags -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="User error caused a massive S3 blackout | MattOuille.com">
  <meta name="twitter:description" content="  At 9:37AM PST, an authorized S3 team member using an established playbook executed a command which was intended to remove a small number of servers for one...">
  <meta name="twitter:image" content="https://www.mattouille.com/img/leonids-logo.png">

  <!-- Open Graph Tags -->
  <meta property="og:type" content="blog">
  <meta property="og:url" content="https://www.mattouille.com">
  <meta property="og:title" content="User error caused a massive S3 blackout | MattOuille.com">
  <meta property="og:description" content="  At 9:37AM PST, an authorized S3 team member using an established playbook executed a command which was intended to remove a small number of servers for one...">
  <meta property="og:image" content="https://www.mattouille.com/img/leonids-logo.png">
  <title>User error caused a massive S3 blackout | MattOuille.com</title>

  <!-- CSS files -->
  <link rel="stylesheet" href="https://www.mattouille.com/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://www.mattouille.com/css/main.css">

  <link rel="canonical" href="https://www.mattouille.com/articles/2017-03/user-error-caused-a-massive-s3-blackout">
  <link rel="alternate" type="application/rss+xml" title="MattOuille.com" href="https://www.mattouille.com /feed.xml " />

  <!-- Icons -->
  <!-- 16x16 -->
  <link rel="shortcut icon" href="https://www.mattouille.com/favicon.ico">
  <!-- 32x32 -->
  <link rel="shortcut icon" href="https://www.mattouille.com/favicon.png">
</head>


<body>
  <div class="row">
    <div class="col s12 m3">
      <div class="table cover">
        

<div class="cover-card table-cell table-middle">
  
  <img src="https://www.mattouille.com/img/profile.jpg" alt="" class="avatar">
  
  <a href="https://www.mattouille.com/" class="author_name">Matt Ouille</a>
  <span class="author_job">Site Reliability Engineer</span>
  <span class="author_bio mbm">A software engineer focused on infrastructure automation, Linux, and service reliability.</span>
  <nav class="nav">
    <ul class="nav-list">
      <li class="nav-item">
        <a href="https://www.mattouille.com/">home</a>
        <span>/</span>
      </li>
       
      <li class="nav-item">
        <a href="https://www.mattouille.com/about-me/">About Me</a>
        
          <span>/</span>
        
      </li>
        
      <li class="nav-item">
        <a href="https://www.mattouille.com/archive/">Archive</a>
        
          <span>/</span>
        
      </li>
          
      <li class="nav-item">
        <a href="https://www.mattouille.com/categories/">Categories</a>
        
          <span>/</span>
        
      </li>
        
      <li class="nav-item">
        <a href="https://www.mattouille.com/categories/">Categories</a>
        
          <span>/</span>
        
      </li>
          
      <li class="nav-item">
        <a href="https://www.mattouille.com/tags/">Tags</a>
        
      </li>
       
    </ul>
  </nav>
  <script type="text/javascript">
  // based on http://stackoverflow.com/a/10300743/280842
  function gen_mail_to_link(hs, subject) {
    var lhs,rhs;
    var p = hs.split('@');
    lhs = p[0];
    rhs = p[1];
    document.write("<a class=\"social-link-item\" target=\"_blank\" href=\"mailto");
    document.write(":" + lhs + "@");
    document.write(rhs + "?subject=" + subject + "\"><i class=\"fa fa-fw fa-envelope\"></i><\/a>");
  }
</script>
<div class="social-links">
  <ul>
    
      <li>
      <script>gen_mail_to_link('matthew.ouille@gmail.com', 'Hello from website');</script>
      </li>
    
    
    
    
    <li><a href="http://linkedin.com/in/mattouille" class="social-link-item" target="_blank"><i class="fa fa-fw fa-linkedin"></i></a></li>
    
    
    
    <li><a href="http://github.com/mattouille" class="social-link-item" target="_blank"><i class="fa fa-fw fa-github"></i></a></li>
    <li><a href="http://stackoverflow.com/users/5854293/matt-o" class="social-link-item" target="_blank"><i class="fa fa-fw fa-stack-overflow"></i></a></li>
    
    
    
    
    
    
    
    
    
    
    
  </ul>
</div>

</div>

      </div>
    </div>
    <div class="col s12 m9">
      <div class="post-listing">
        <a class="btn" href= "https://www.mattouille.com/" >
  Home
</a>



<div id="post">
  <header class="post-header">
    <h1 title="User error caused a massive S3 blackout">User error caused a massive S3 blackout</h1>
    <span class="post-meta">
      <span class="post-date">
        5 MAR 2017
      </span>
      •
      <span class="read-time" title="Estimated read time">
  
  
    2 mins read
  
</span>

    </span>

  </header>

  <article class="post-content">
    <blockquote>
  <p>At 9:37AM PST, an authorized S3 team member using an established playbook executed a command which was intended to remove a small number of servers for one of the S3 subsystems that is used by the S3 billing process. Unfortunately, one of the inputs to the command was entered incorrectly and a larger set of servers was removed than intended. The servers that were inadvertently removed supported two other S3 subsystems.
source: https://aws.amazon.com/message/41926/</p>
</blockquote>

<p>Is this where we echo one of the great pillars of Linux? <strong>With great power comes great responsibility.</strong></p>

<!--more-->

<p>Amazon actually has DevOps Engineering departments that build and manage their internal tooling. It’s very interesting that, even with a DevOps department, one of the foremost constructs of DevOps was not followed:</p>

<blockquote>
  <p>The emphasis is on the performance of the entire system, as opposed to the performance of a specific or single department or individual. Focus is also on all business value streams that are enabled by IT. <strong>A key aspect of this approach is ensuring that known defects are never passed along, e.g., from QA to operations.</strong>
Source: http://itrevolution.com/the-three-ways-principles-underpinning-devops/</p>
</blockquote>

<hr />

<p>What I’m pointing at is that there was nothing built into the tooling to indicate to the user that this action they had performed was going to yield the desired result. It was known that this was a dangerous and presumptive tool but it took nearly 24 hours of downtime to realize the tool needed to be changed.</p>

<blockquote>
  <p>We are making several changes as a result of this operational event. While removal of capacity is a key operational practice, in this instance, the tool used allowed too much capacity to be removed too quickly. We have modified this tool to remove capacity more slowly and added safeguards to prevent capacity from being removed when it will take any subsystem below its minimum required capacity level. This will prevent an incorrect input from triggering a similar event in the future. We are also auditing our other operational tools to ensure we have similar safety checks. We will also make changes to improve the recovery time of key S3 subsystems
Source: https://aws.amazon.com/message/41926/</p>
</blockquote>

<p>I think we can all learn a valuable lesson in building internal tooling. Though the tools are built for internal use only, you should never assume the user is any less capable of error.</p>

<p><strong>Source</strong>: https://aws.amazon.com/message/41926/</p>

  </article>
</div>

<div class="share-buttons">
  <h6>Share on: </h6>
  <ul>
    <li>
      <a href="https://twitter.com/intent/tweet?text=https://www.mattouille.com/articles/2017-03/user-error-caused-a-massive-s3-blackout" class="twitter btn" title="Share on Twitter"><i class="fa fa-twitter"></i><span> Twitter</span></a>
    </li>
    <li>
      <a href="https://www.facebook.com/sharer/sharer.php?u=https://www.mattouille.com/articles/2017-03/user-error-caused-a-massive-s3-blackout" class="facebook btn" title="Share on Facebook"><i class="fa fa-facebook"></i><span> Facebook</span></a>
    </li>
    <li>
      <a href="https://plus.google.com/share?url=https://www.mattouille.com/articles/2017-03/user-error-caused-a-massive-s3-blackout" class="google-plus btn" title="Share on Google Plus"><i class="fa fa-google-plus"></i><span> Google+</span></a>
    </li>
    <li>
      <a href="https://news.ycombinator.com/submitlink?u=https://www.mattouille.com/articles/2017-03/user-error-caused-a-massive-s3-blackout" class="hacker-news btn" title="Share on Hacker News"><i class="fa fa-hacker-news"></i><span> Hacker News</span></a>
    </li>
    <li>
      <a href="https://www.reddit.com/submit?url=https://www.mattouille.com/articles/2017-03/user-error-caused-a-massive-s3-blackout" class="reddit btn" title="Share on Reddit"><i class="fa fa-reddit"></i><span> Reddit</span></a>
    </li>
  </ul>
</div><!-- end share-buttons -->



        <footer>
  &copy; 2017 Matt Ouille. Powered by <a href="http://jekyllrb.com/">Jekyll</a>, <a href="http://github.com/renyuanz/leonids/">leonids theme</a> made with <i class="fa fa-heart heart-icon"></i>
</footer>

      </div>
    </div>
  </div>
  <script type="text/javascript" src="https://www.mattouille.com/js/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="https://www.mattouille.com/js/main.js"></script>

<!-- Asynchronous Google Analytics snippet -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-49694865-1', 'auto');
  ga('send', 'pageview');
</script>



</body>
</html>
